{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "6de42c37_3f1238eb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000068
      },
      "writtenOn": "2025-10-09T19:42:28Z",
      "side": 1,
      "message": "I ran with the suggestion change from George and its working in my environment.  Before his change it was causing an exception.",
      "revId": "f871d85c817129768fd403206fca99d2a7f6756a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d03ea961_5556cf79",
        "filename": "lib/gen_misc.py",
        "patchSetId": 2
      },
      "lineNbr": 451,
      "author": {
        "id": 1000018
      },
      "writtenOn": "2025-10-09T19:20:41Z",
      "side": 1,
      "message": "Can u change\n\n host \u003d dft(host, socket.gethostname())\n \n to \n \n host \u003d socket.gethostname()\n \n\n+++++++++++++++++++++++++++++++++\n \nWith new code:\n\n********* DEBUG START *********\nhost: xx.xx.xx.xx\nhostname: testxxxxx.com\n********* DEBUG MISC *********\n[(\u003cAddressFamily.AF_INET: 2\u003e, \u003cSocketKind.SOCK_STREAM: 1\u003e, 6, \u0027\u0027, (\u0027xx.xx.xx.xx\u0027, 443))]\nhost_ip: xx.xx.xx.xx\n\n********* DEBUG START *********\nhost:\nhostname: localsandbox\n#(IST) 2025/10/10 00:27:06.872586 -    1.364396 - **ERROR** Unable to obtain the host name for the following host:\nhost:\n#(IST) 2025/10/10 00:27:06.902864 -    0.030278 - Executing: obmc_boot_test_teardown()\ngaierror: [Errno -2] Name or service not known\n\n\n\nWith old code:\n\n********* DEBUG START *********\nhost: xx.xx.xx.xx\nhostname: testxxxxx.com\n********* DEBUG MISC *********\n[(\u003cAddressFamily.AF_INET: 2\u003e, \u003cSocketKind.SOCK_STREAM: 1\u003e, 6, \u0027\u0027, (\u0027xx.xx.xx.xx\u0027, 443))]\nxx.xx.xx.xx\n********* DEBUG START *********\nhost:\nhostname: localsandbox\nhost_ip: 0.0.0.0",
      "revId": "f871d85c817129768fd403206fca99d2a7f6756a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d24b6aa0_9b688bf4",
        "filename": "lib/gen_misc.py",
        "patchSetId": 2
      },
      "lineNbr": 451,
      "author": {
        "id": 1000018
      },
      "writtenOn": "2025-10-09T19:33:07Z",
      "side": 1,
      "message": "There was a bug earlier returning 0.0.0.0 by default for the local host. Now, with the above change, suggest + your changes, it would return 127.0.0.1. \n\nPlease change the above line suggested and give a quick run from your end.. \n\nI ran on local setup, and it looks good. Thanks",
      "parentUuid": "d03ea961_5556cf79",
      "revId": "f871d85c817129768fd403206fca99d2a7f6756a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "24c01e17_6a95d1e4",
        "filename": "lib/gen_misc.py",
        "patchSetId": 2
      },
      "lineNbr": 451,
      "author": {
        "id": 1002230
      },
      "writtenOn": "2025-10-10T08:41:15Z",
      "side": 1,
      "message": "@gkeishin@gmail.com thank you for checking into this.\n\nI checked into this. Sometimes, the function receives an empty string (\"\") as the host. dft() uses default only if the argument (host in this case) is NULL, so for \"\" it returns \"\".\nThe old code returned 0.0.0.0 for \"\":\n```\n\u003e\u003e\u003e socket.gethostbyname(\u0027\u0027)\n\u00270.0.0.0\u0027\n```\n\nThe new one throws an exeption:\n```\n\u003e\u003e\u003e socket.getaddrinfo(\u0027\u0027, 443, proto\u003dsocket.IPPROTO_TCP)\nTraceback (most recent call last):\n  File \"\u003cstdin\u003e\", line 1, in \u003cmodule\u003e\n  File \"/usr/local/fbcode/platform010/lib/python3.12/socket.py\", line 978, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno -2] Name or service not known\n```\n\nOn the other hand, using `host \u003d socket.gethostname()` will break code that passes host to the function.\n\nSo, what I\u0027m going to do is to change this to:\n```\nif not host:\n    host \u003d socket.gethostname()\n```\n\nthis will cover both cases - NULL and \"\".",
      "parentUuid": "d24b6aa0_9b688bf4",
      "revId": "f871d85c817129768fd403206fca99d2a7f6756a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e6f1f294_fc398ffb",
        "filename": "lib/gen_misc.py",
        "patchSetId": 2
      },
      "lineNbr": 451,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-10T16:27:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "24c01e17_6a95d1e4",
      "revId": "f871d85c817129768fd403206fca99d2a7f6756a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20b995ce_f3713b81",
        "filename": "lib/gen_misc.py",
        "patchSetId": 2
      },
      "lineNbr": 459,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-09T18:06:25Z",
      "side": 1,
      "message": "0-4-0 is kind of a magic sequence here.  Is there something better we can do to make this understandable?",
      "range": {
        "startLine": 459,
        "startChar": 28,
        "endLine": 459,
        "endChar": 37
      },
      "revId": "f871d85c817129768fd403206fca99d2a7f6756a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "81adcb96_47578c3a",
        "filename": "lib/gen_misc.py",
        "patchSetId": 2
      },
      "lineNbr": 459,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-09T18:06:25Z",
      "side": 1,
      "message": "should we put this blob into a separate function that can be used by the other file also?",
      "range": {
        "startLine": 454,
        "startChar": 0,
        "endLine": 459,
        "endChar": 37
      },
      "revId": "f871d85c817129768fd403206fca99d2a7f6756a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ca7dc198_11535b95",
        "filename": "lib/gen_misc.py",
        "patchSetId": 2
      },
      "lineNbr": 459,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-10-09T18:20:27Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "81adcb96_47578c3a",
      "range": {
        "startLine": 454,
        "startChar": 0,
        "endLine": 459,
        "endChar": 37
      },
      "revId": "f871d85c817129768fd403206fca99d2a7f6756a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2c98fed7_ac74e7f9",
        "filename": "lib/gen_misc.py",
        "patchSetId": 2
      },
      "lineNbr": 459,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-10-09T18:20:27Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "20b995ce_f3713b81",
      "range": {
        "startLine": 459,
        "startChar": 28,
        "endLine": 459,
        "endChar": 37
      },
      "revId": "f871d85c817129768fd403206fca99d2a7f6756a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a766aa0_64bade92",
        "filename": "lib/gen_misc.py",
        "patchSetId": 2
      },
      "lineNbr": 459,
      "author": {
        "id": 1002230
      },
      "writtenOn": "2025-10-10T08:41:15Z",
      "side": 1,
      "message": "It is. I will put a comment with example of output, so reader will understand the numbers.",
      "parentUuid": "2c98fed7_ac74e7f9",
      "range": {
        "startLine": 459,
        "startChar": 28,
        "endLine": 459,
        "endChar": 37
      },
      "revId": "f871d85c817129768fd403206fca99d2a7f6756a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f2d4fc93_35e220ae",
        "filename": "lib/gen_misc.py",
        "patchSetId": 2
      },
      "lineNbr": 459,
      "author": {
        "id": 1002230
      },
      "writtenOn": "2025-10-10T08:41:15Z",
      "side": 1,
      "message": "It\u0027s a one liner, so I don\u0027t see a lot of value, though I will move this to make it reusable.",
      "parentUuid": "ca7dc198_11535b95",
      "range": {
        "startLine": 454,
        "startChar": 0,
        "endLine": 459,
        "endChar": 37
      },
      "revId": "f871d85c817129768fd403206fca99d2a7f6756a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0940ac27_44e3a52c",
        "filename": "lib/gen_misc.py",
        "patchSetId": 2
      },
      "lineNbr": 459,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-10T16:27:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1a766aa0_64bade92",
      "range": {
        "startLine": 459,
        "startChar": 28,
        "endLine": 459,
        "endChar": 37
      },
      "revId": "f871d85c817129768fd403206fca99d2a7f6756a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dbd5db2a_46196728",
        "filename": "lib/gen_misc.py",
        "patchSetId": 2
      },
      "lineNbr": 459,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-10T16:27:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f2d4fc93_35e220ae",
      "range": {
        "startLine": 454,
        "startChar": 0,
        "endLine": 459,
        "endChar": 37
      },
      "revId": "f871d85c817129768fd403206fca99d2a7f6756a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}